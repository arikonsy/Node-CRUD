<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <button class="btn btn-primary pull-right" (click)="openModalAdd(add)">Add</button>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>LastName</th>
                        <th>Designation</th>
                        <th>Salary($)</th>
                        <th colspan="2">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let user of users">
                        <td>{{user.name}}</td>
                        <td>{{user.designation}}</td>
                        <td>{{user.salary}}</td>
                        <td><button class="btn btn-warning" (click)="openModalEdit(edit, user)">Edit</button></td>
                        <td><button class="btn btn-danger"  (click)="openModalDelete(delete, user._id)">Delete</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<ng-template #add>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Add</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <label for="name">Lastname</label>
        <input type="text" class="form-control" name="name" [(ngModel)]="user.name">
        <p class="text-danger">{{errorMsg.name}}</p>

        <label for="designation">designation</label>
        <input type="text" class="form-control" name="designation" [(ngModel)]="user.designation">
        <p class="text-danger">{{errorMsg.designation}}</p>

        <label for="salary">salary</label>
        <input type="text" class="form-control" name="salary" [(ngModel)]="user.salary">
        <p class="text-danger">{{errorMsg.salary}}</p>

        <button class="btn btn-primary" (click)="onSave()">Save</button>
    </div>
</ng-template>

<ng-template #edit>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Edit</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <label for="name">Name</label>
        <input type="text" class="form-control" name="name" [(ngModel)]="editUser.name">
        <p class="text-danger">{{errorMsg.name}}</p>

        <label for="designation">Designation</label>
        <input type="text" class="form-control" name="designation" [(ngModel)]="editUser.designation">
        <p class="text-danger">{{errorMsg.designation}}</p>

        <label for="salary">Salary</label>
        <input type="text" class="form-control" name="salary" [(ngModel)]="editUser.salary">
        <p class="text-danger">{{errorMsg.salary}}</p>

        <button class="btn btn-primary" (click)="onUpdate()">Update</button>
    </div>
</ng-template>
<ng-template #delete>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Delete</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p>Are you sure you want to delete this user?</p>
        <button (click)="modalRef.hide()" class="btn primary">No</button>|
        <button class="btn btn-danger" (click)="deleteUser()">Yes</button>
    </div>
</ng-template>